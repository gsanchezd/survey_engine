<div class="se-container">
  <nav class="se-breadcrumb">
    <%= link_to "â† Back to Surveys", surveys_path, class: "se-link" %>
  </nav>

  <div class="se-success-header">
    <div class="se-success-icon">âœ…</div>
    <h1>Survey Completed!</h1>
    <p>Thank you for completing "<strong><%= @survey.title %></strong>"</p>
  </div>

  <div class="se-completion-details">
    <div class="se-detail-card">
      <h3>Your Response Summary</h3>
      <div class="se-completion-stats">
        <div class="se-stat">
          <strong><%= @response.answers.count %></strong>
          <span>questions answered</span>
        </div>
        <div class="se-stat">
          <strong><%= @response.completion_percentage %>%</strong>
          <span>completed</span>
        </div>
        <div class="se-stat">
          <strong><%= time_ago_in_words(@response.completed_at) %> ago</strong>
          <span>submitted</span>
        </div>
      </div>
    </div>

    <% if @response.answers.any? %>
      <div class="se-detail-card">
        <h3>Your Answers</h3>
        <div class="se-answers-summary">
          <% @response.answers.includes(:question).each_with_index do |answer, index| %>
            <div class="se-answer-item">
              <div class="se-answer-question">
                <strong><%= index + 1 %>.</strong> <%= answer.question.title %>
              </div>
              <div class="se-answer-value">
                <%= answer.display_value %>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>

  <div class="se-completion-actions">
    <% if @survey.participants.completed.count > 1 %>
      <%= link_to "ðŸ“Š View Survey Results", results_survey_path(@survey), 
          class: "se-btn se-btn-secondary" %>
    <% end %>
    
    <%= link_to "Take Another Survey", surveys_path(email: @participant.email), 
        class: "se-btn se-btn-primary" %>
  </div>

  <div class="se-completion-footer">
    <p class="se-helper-text">
      Your response has been securely saved and cannot be modified. 
      If you have any questions about this survey, please contact the survey administrator.
    </p>
  </div>
</div>